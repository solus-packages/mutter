name       : mutter
version    : 3.24.2
release    : 28
source     :
    - https://download.gnome.org/sources/mutter/3.24/mutter-3.24.2.tar.xz : e18063a200c4bc2fad744232d01478e01b5a1bbfc9f2055d9333f34dd0187810
license    : LGPL-2.0
component  : desktop.gnome
summary    : Gnome Shell Window Manager
description: |
    Gnome Shell compositing window manager
ccache     : no
builddeps  :
    - pkgconfig(clutter-1.0)
    - pkgconfig(gnome-desktop-3.0)
    - pkgconfig(gobject-introspection-1.0)
    - pkgconfig(gsettings-desktop-schemas)
    - pkgconfig(gtk+-3.0)
    - pkgconfig(libcanberra-gtk3)
    - pkgconfig(libstartup-notification-1.0)
    - pkgconfig(libwacom)
    - pkgconfig(sm)
    - pkgconfig(upower-glib)
    - pkgconfig(xcursor)
    - pkgconfig(xkbfile)
    - pkgconfig(xkeyboard-config)
    - pkgconfig(xtst)
    - zenity
rundeps    :
    - zenity
setup      : |
    # https://bugzilla.gnome.org/show_bug.cgi?id=757661
    %patch -p1 < $pkgfiles/0001-backends-x11-Ensure-reply-is-initialised-to-NULL.patch
    # https://bugzilla.gnome.org/show_bug.cgi?id=779234
    %patch -p1 < $pkgfiles/0001-cogl-Use-pixel_format_to_gl_with_target-in-find_best.patch
    %patch -p1 < $pkgfiles/0002-backends-native-Include-sysmacros.h-for-major-minor-.patch
    %patch -p1 < $pkgfiles/0003-Disable-disastrous-NET_WM_PING-deletion-dialogs.patch
    %configure --disable-static \
               --enable-introspection \
               --enable-egl-device
build      : |
    %make
install    : |
    %make_install
