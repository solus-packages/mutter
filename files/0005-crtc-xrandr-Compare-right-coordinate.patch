From d2a12ee0fabff9a7f0c71a025aba0a99c377c8b1 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Jonas=20=C3=85dahl?= <jadahl@gmail.com>
Date: Wed, 11 Mar 2020 11:06:00 +0100
Subject: [PATCH] crtc-xrandr: Compare right coordinate when checking
 assignment

Compare x with x, and y with y, not y with x.

Fixes an issue where only changing the scale doesn't actually apply the
new scale.

https://gitlab.gnome.org/GNOME/mutter/-/merge_requests/1119
---
 src/backends/x11/meta-crtc-xrandr.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/backends/x11/meta-crtc-xrandr.c b/src/backends/x11/meta-crtc-xrandr.c
index 3b9d90aa7..678e68a9b 100644
--- a/src/backends/x11/meta-crtc-xrandr.c
+++ b/src/backends/x11/meta-crtc-xrandr.c
@@ -195,7 +195,7 @@ meta_crtc_xrandr_is_assignment_changed (MetaCrtc     *crtc,
   if (crtc_xrandr->rect.x != (int) roundf (crtc_info->layout.origin.x))
     return TRUE;
 
-  if (crtc_xrandr->rect.y != (int) roundf (crtc_info->layout.origin.x))
+  if (crtc_xrandr->rect.y != (int) roundf (crtc_info->layout.origin.y))
     return TRUE;
 
   if (crtc_xrandr->transform != crtc_info->transform)
-- 
2.24.1

