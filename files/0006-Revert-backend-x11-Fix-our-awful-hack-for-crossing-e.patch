From f4d9153e5f0ad76272449e1ad6097c48aa899725 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Florian=20M=C3=BCllner?= <fmuellner@gnome.org>
Date: Sun, 2 Aug 2015 22:03:55 +0200
Subject: [PATCH 06/11] Revert "backend-x11: Fix our awful hack for crossing
 events, too"

This reverts commit 55fd05ea588a34564128f9f657084c82eae1cb0b.

https://bugzilla.gnome.org/show_bug.cgi?id=753156
---
 src/backends/x11/meta-backend-x11.c | 12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

diff --git a/src/backends/x11/meta-backend-x11.c b/src/backends/x11/meta-backend-x11.c
index 29fcb85..6e52a5a 100644
--- a/src/backends/x11/meta-backend-x11.c
+++ b/src/backends/x11/meta-backend-x11.c
@@ -133,8 +133,6 @@ static void
 translate_crossing_event (MetaBackendX11 *x11,
                           XIEnterEvent   *enter_event)
 {
-  MetaBackendX11Private *priv = meta_backend_x11_get_instance_private (x11);
-
   /* Throw out weird events generated by grabs. */
   if (enter_event->mode == XINotifyGrab ||
       enter_event->mode == XINotifyUngrab)
@@ -143,15 +141,7 @@ translate_crossing_event (MetaBackendX11 *x11,
       return;
     }
 
-  Window stage_window = meta_backend_x11_get_xwindow (x11);
-  if (enter_event->event != stage_window)
-    {
-      /* See above for the rationale for this... */
-      g_assert (priv->mode == META_BACKEND_X11_MODE_COMPOSITOR);
-      enter_event->event = meta_backend_x11_get_xwindow (x11);
-      enter_event->event_x = enter_event->root_x;
-      enter_event->event_y = enter_event->root_y;
-    }
+  enter_event->event = meta_backend_x11_get_xwindow (x11);
 }
 
 static void
-- 
2.5.0

